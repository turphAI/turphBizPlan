generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  relationMode = "prisma"
}

model Interaction {
  id                 Int                        @id @default(autoincrement())
  user_id            Int
  content_id         Int
  type               interactions_type
  timestamp          DateTime?                  @default(now()) @db.DateTime(0)
  duration           Int?
  progress           Int?
  device             String?                    @db.VarChar(100)
  platform           String?                    @db.VarChar(100)
  location           String?                    @db.VarChar(255)
  referrer           String?                    @db.Text
  metadata           Json?
  comment_text       String?                    @db.Text
  comment_parent_id  Int?
  highlight_text     String?                    @db.Text
  highlight_position Json?
  note_text          String?                    @db.Text
  note_position      String?                    @db.VarChar(255)
  share_method       interactions_share_method? @default(other)
  share_recipients   Json?
  createdAt          DateTime?                  @default(now()) @map("created_at") @db.Timestamp(0)
  updated_at         DateTime?                  @default(now()) @db.Timestamp(0)

  @@index([content_id, type], map: "idx_content_type")
  @@index([timestamp(sort: Desc)], map: "idx_timestamp")
  @@index([user_id, content_id, type], map: "idx_user_content_type")
  @@map("interactions")
}

model alert_configurations {
  id                    String    @id @db.VarChar(255)
  user_id               String    @db.VarChar(255)
  data_source           String    @db.VarChar(255)
  metric_name           String    @db.VarChar(255)
  threshold_type        String    @db.VarChar(50)
  threshold_value       Decimal   @db.Decimal(10, 2)
  comparison_period     Int
  enabled               Int?      @default(1)
  notification_channels String?   @db.Text
  created_at            DateTime? @default(now()) @db.Timestamp(0)
  updated_at            DateTime? @default(now()) @db.Timestamp(0)
}

model categories {
  id                 Int       @id @default(autoincrement())
  name               String    @unique(map: "name") @db.VarChar(50)
  description        String?   @db.VarChar(200)
  color              String?   @default("#3498db") @db.VarChar(7)
  parent_category_id Int?
  created_by         Int
  is_system          Boolean?  @default(false)
  source_count       Int?      @default(0)
  keywords           Json?
  created_at         DateTime? @default(now()) @db.Timestamp(0)
  updated_at         DateTime? @default(now()) @db.Timestamp(0)

  @@index([created_by], map: "idx_created_by")
  @@index([is_system], map: "idx_is_system")
  @@index([parent_category_id], map: "idx_parent_category")
}

model collection_collaborators {
  id            Int                            @id @default(autoincrement())
  collection_id Int
  user_id       Int
  role          collection_collaborators_role? @default(viewer)
  added_at      DateTime?                      @default(now()) @db.Timestamp(0)

  @@unique([collection_id, user_id], map: "unique_collection_collaborator")
  @@index([user_id], map: "idx_user_id")
}

model collection_content {
  id            Int       @id @default(autoincrement())
  collection_id Int
  content_id    Int
  added_at      DateTime? @default(now()) @db.Timestamp(0)

  @@unique([collection_id, content_id], map: "unique_collection_content")
  @@index([content_id], map: "idx_content_id")
}

model collections {
  id          Int       @id @default(autoincrement())
  user_id     Int
  name        String    @db.VarChar(100)
  description String?   @db.VarChar(500)
  public      Boolean?  @default(false)
  featured    Boolean?  @default(false)
  color       String?   @default("#3498db") @db.VarChar(7)
  icon        String?   @default("folder") @db.VarChar(50)
  tags        Json?
  parent_id   Int?
  sort_order  Int?      @default(0)
  view_count  Int?      @default(0)
  last_viewed DateTime? @db.DateTime(0)
  metadata    Json?
  created_at  DateTime? @default(now()) @db.Timestamp(0)
  updated_at  DateTime? @default(now()) @db.Timestamp(0)

  @@unique([user_id, name], map: "unique_user_collection")
  @@index([parent_id], map: "idx_parent_id")
  @@index([public, featured], map: "idx_public_featured")
}

model content {
  id                     Int                @id @default(autoincrement())
  source_id              Int
  url                    String             @db.Text
  title                  String             @db.VarChar(500)
  author                 String?            @db.VarChar(255)
  publish_date           DateTime?          @db.DateTime(0)
  discovery_date         DateTime?          @default(now()) @db.DateTime(0)
  type                   content_type
  categories             Json?
  topics                 Json?
  relevance_score        Decimal?           @default(0.50) @db.Decimal(3, 2)
  summary                String?            @db.Text
  key_insights           Json?
  full_text              String?            @db.LongText
  visual_elements        Json?
  metadata               Json?
  processed              Boolean?           @default(false)
  outdated               Boolean?           @default(false)
  read_count             Int?               @default(0)
  save_count             Int?               @default(0)
  share_count            Int?               @default(0)
  language               String?            @default("en") @db.VarChar(10)
  sentiment              content_sentiment? @default(neutral)
  sentiment_score        Decimal?           @default(0.00) @db.Decimal(3, 2)
  reading_time           Int?
  word_count             Int?
  article_section        String?            @db.VarChar(255)
  paper_abstract         String?            @db.Text
  paper_doi              String?            @db.VarChar(255)
  paper_citations        Int?               @default(0)
  paper_authors          Json?
  podcast_episode_number Int?
  podcast_duration       Int?
  podcast_transcript     String?            @db.LongText
  video_duration         Int?
  video_transcript       String?            @db.LongText
  social_platform        String?            @db.VarChar(50)
  social_username        String?            @db.VarChar(100)
  social_likes           Int?               @default(0)
  social_shares          Int?               @default(0)
  social_comments        Int?               @default(0)
  quality_score          Decimal?           @default(0.50) @db.Decimal(3, 2)
  quality_factors        Json?
  processing_history     Json?
  created_at             DateTime?          @default(now()) @db.Timestamp(0)
  updated_at             DateTime?          @default(now()) @db.Timestamp(0)

  @@unique([source_id, url(length: 255)], map: "unique_source_url")
  @@index([discovery_date(sort: Desc)], map: "idx_discovery_date")
  @@index([outdated], map: "idx_outdated")
  @@index([processed], map: "idx_processed")
  @@index([publish_date(sort: Desc)], map: "idx_publish_date")
  @@index([relevance_score(sort: Desc)], map: "idx_relevance_score")
  @@index([type], map: "idx_type")
}

model content_references {
  id                Int                                @id @default(autoincrement())
  source_content_id Int
  target_content_id Int
  reference_type    content_references_reference_type? @default(related)
  context           String?                            @db.Text
  confidence_score  Decimal?                           @default(0.50) @db.Decimal(3, 2)
  created_at        DateTime?                          @default(now()) @db.Timestamp(0)

  @@unique([source_content_id, target_content_id, reference_type], map: "unique_reference")
  @@index([reference_type], map: "idx_reference_type")
  @@index([target_content_id], map: "idx_target_content")
}

model content_volume_settings {
  id                  Int       @id @default(autoincrement())
  user_id             Int       @unique(map: "user_id")
  max_daily_items     Int?      @default(20)
  max_weekly_items    Int?      @default(100)
  priority_threshold  Decimal?  @default(0.70) @db.Decimal(3, 2)
  content_type_limits Json?
  source_limits       Json?
  created_at          DateTime? @default(now()) @db.Timestamp(0)
  updated_at          DateTime? @default(now()) @db.Timestamp(0)
}

model credentials {
  id             Int                      @id @default(autoincrement())
  user_id        Int
  service_name   String                   @db.VarChar(100)
  service_type   credentials_service_type
  encrypted_data String                   @db.Text
  iv             String                   @db.VarChar(32)
  expires_at     DateTime?                @db.DateTime(0)
  active         Boolean?                 @default(true)
  created_at     DateTime?                @default(now()) @db.Timestamp(0)
  updated_at     DateTime?                @default(now()) @db.Timestamp(0)

  @@unique([user_id, service_name], map: "unique_user_service")
  @@index([active], map: "idx_active")
  @@index([service_name], map: "idx_service_name")
}

model digest_scheduling {
  id                Int                          @id @default(autoincrement())
  user_id           Int                          @unique(map: "user_id")
  enabled           Boolean?                     @default(true)
  frequency         digest_scheduling_frequency? @default(daily)
  delivery_time     Json                         @default(dbgenerated("(_utf8mb4\\'{\"hour\": 8, \"minute\": 0, \"timezone\": \"UTC\"}\\')"))
  weekly_settings   Json?
  monthly_settings  Json?
  content_selection Json?
  formatting        Json?
  delivery_method   Json?
  last_delivery     DateTime?                    @db.DateTime(0)
  next_delivery     DateTime?                    @db.DateTime(0)
  created_at        DateTime?                    @default(now()) @db.Timestamp(0)
  updated_at        DateTime?                    @default(now()) @db.Timestamp(0)

  @@index([enabled, next_delivery], map: "idx_enabled_next_delivery")
}

model discovery_settings {
  id                Int       @id @default(autoincrement())
  user_id           Int       @unique(map: "user_id")
  enabled           Boolean?  @default(true)
  aggressiveness    Decimal?  @default(0.50) @db.Decimal(3, 2)
  discovery_methods Json?
  content_filters   Json?
  source_expansion  Json?
  created_at        DateTime? @default(now()) @db.Timestamp(0)
  updated_at        DateTime? @default(now()) @db.Timestamp(0)
}

model dividend_entries {
  id           String                   @id @db.VarChar(36)
  symbol       String                   @db.VarChar(10)
  date         DateTime                 @db.Date
  shares       Decimal                  @db.Decimal(10, 6)
  amount       Decimal                  @db.Decimal(10, 2)
  account      String                   @db.VarChar(100)
  description  String?                  @db.VarChar(200)
  source       String?                  @default("manual_entry") @db.VarChar(50)
  status       dividend_entries_status? @default(pending)
  created_at   DateTime?                @default(now()) @db.Timestamp(0)
  updated_at   DateTime?                @default(now()) @db.Timestamp(0)
  processed_at DateTime?                @db.Timestamp(0)

  @@unique([symbol, date, shares, amount, account], map: "unique_entry")
  @@index([account], map: "idx_account")
  @@index([date], map: "idx_date")
  @@index([status], map: "idx_status")
}

model dividend_export_history {
  id               String    @id @db.VarChar(36)
  export_type      String    @db.VarChar(50)
  spreadsheet_id   String?   @db.VarChar(100)
  entries_count    Int?      @default(0)
  success          Boolean?  @default(false)
  error_message    String?   @db.Text
  duration_seconds Decimal?  @db.Decimal(10, 3)
  created_at       DateTime? @default(now()) @db.Timestamp(0)

  @@index([created_at], map: "idx_created_at")
  @@index([export_type], map: "idx_export_type")
  @@index([success], map: "idx_success")
}

model dividend_monthly_summaries {
  id           String    @id @db.VarChar(36)
  year         Int
  month        Int
  symbol       String    @db.VarChar(10)
  total_shares Decimal   @db.Decimal(10, 6)
  total_amount Decimal   @db.Decimal(10, 2)
  entry_count  Int
  created_at   DateTime? @default(now()) @db.Timestamp(0)
  updated_at   DateTime? @default(now()) @db.Timestamp(0)

  @@unique([year, month, symbol], map: "unique_monthly")
  @@index([symbol], map: "idx_symbol")
}

model dividend_processing_logs {
  id         String                          @id @db.VarChar(36)
  operation  String                          @db.VarChar(50)
  status     dividend_processing_logs_status
  message    String?                         @db.Text
  details    Json?
  created_at DateTime?                       @default(now()) @db.Timestamp(0)

  @@index([created_at], map: "idx_created_at")
  @@index([operation], map: "idx_operation")
  @@index([status], map: "idx_status")
}

model interest_profiles {
  id                    Int       @id @default(autoincrement())
  user_id               Int       @unique(map: "user_id")
  topic_interests       Json?
  category_interests    Json?
  source_type_interests Json?
  interaction_patterns  Json?
  learning_rate         Decimal?  @default(0.10) @db.Decimal(3, 2)
  last_updated          DateTime? @default(now()) @db.DateTime(0)
  created_at            DateTime? @default(now()) @db.Timestamp(0)
  updated_at            DateTime? @default(now()) @db.Timestamp(0)

  @@index([last_updated], map: "idx_last_updated")
}

model metric_history {
  id         String                 @id @db.VarChar(255)
  metric_id  String                 @db.VarChar(255)
  value      Decimal                @db.Decimal(20, 8)
  status     metric_history_status? @default(healthy)
  confidence Decimal?               @default(1.00) @db.Decimal(3, 2)
  metadata   Json?
  raw_data   Json?
  created_at DateTime?              @default(now()) @db.Timestamp(0)
}

model metrics {
  id          String          @id @db.VarChar(255)
  data_source String          @db.VarChar(255)
  metric_name String          @db.VarChar(255)
  value       Decimal         @db.Decimal(20, 8)
  unit        String?         @db.VarChar(50)
  status      metrics_status? @default(healthy)
  confidence  Decimal?        @default(1.00) @db.Decimal(3, 2)
  metadata    Json?
  raw_data    Json?
  created_at  DateTime?       @default(now()) @db.Timestamp(0)
  updated_at  DateTime?       @default(now()) @db.Timestamp(0)
}

model notification_settings {
  id                          Int       @id @default(autoincrement())
  user_id                     Int       @unique(map: "user_id")
  email_notifications         Boolean?  @default(true)
  push_notifications          Boolean?  @default(true)
  digest_notifications        Boolean?  @default(true)
  breaking_news_notifications Boolean?  @default(true)
  notification_frequency      Json?
  quiet_hours                 Json?
  created_at                  DateTime? @default(now()) @db.Timestamp(0)
  updated_at                  DateTime? @default(now()) @db.Timestamp(0)
}

model podcast_episodes {
  id             Int       @id @default(autoincrement())
  podcast_id     Int
  content_id     Int
  episode_number Int?
  season_number  Int?
  guid           String    @unique(map: "guid") @db.VarChar(255)
  duration       Int?
  file_url       String?   @db.Text
  file_size      BigInt?
  file_type      String?   @db.VarChar(50)
  created_at     DateTime? @default(now()) @db.Timestamp(0)
  updated_at     DateTime? @default(now()) @db.Timestamp(0)

  @@index([content_id], map: "idx_content_id")
  @@index([episode_number], map: "idx_episode_number")
  @@index([podcast_id], map: "idx_podcast_id")
}

model podcast_transcripts {
  id               Int       @id @default(autoincrement())
  episode_id       Int
  transcript_text  String    @db.LongText
  language         String?   @default("en") @db.VarChar(10)
  confidence_score Decimal?  @db.Decimal(3, 2)
  timestamps       Json?
  created_at       DateTime? @default(now()) @db.Timestamp(0)
  updated_at       DateTime? @default(now()) @db.Timestamp(0)

  @@index([episode_id], map: "idx_episode_id")
  @@index([language], map: "idx_language")
}

model podcasts {
  id              Int       @id @default(autoincrement())
  source_id       Int
  title           String    @db.VarChar(500)
  description     String?   @db.Text
  author          String?   @db.VarChar(255)
  language        String?   @default("en") @db.VarChar(10)
  category        String?   @db.VarChar(100)
  image_url       String?   @db.Text
  website_url     String?   @db.Text
  rss_url         String    @db.Text
  last_build_date DateTime? @db.DateTime(0)
  created_at      DateTime? @default(now()) @db.Timestamp(0)
  updated_at      DateTime? @default(now()) @db.Timestamp(0)

  @@index([author], map: "idx_author")
  @@index([category], map: "idx_category")
  @@index([source_id], map: "idx_source_id")
}

model sources {
  id                      Int                      @id @default(autoincrement())
  url                     String                   @db.Text
  name                    String                   @db.VarChar(100)
  description             String?                  @db.VarChar(500)
  type                    sources_type
  categories              Json?
  tags                    Json?
  relevance_score         Decimal?                 @default(0.50) @db.Decimal(3, 2)
  check_frequency         sources_check_frequency? @default(daily)
  last_checked            DateTime?                @db.DateTime(0)
  last_updated            DateTime?                @db.DateTime(0)
  requires_authentication Boolean?                 @default(false)
  credentials_encrypted   String?                  @db.Text
  credentials_iv          String?                  @db.VarChar(32)
  discovered_from         Int?
  discovery_date          DateTime?                @default(now()) @db.DateTime(0)
  active                  Boolean?                 @default(true)
  created_by              Int
  content_count           Int?                     @default(0)
  error_count             Int?                     @default(0)
  last_error_message      String?                  @db.Text
  last_error_date         DateTime?                @db.DateTime(0)
  metadata                Json?
  rss_url                 String?                  @db.Text
  podcast_author          String?                  @db.VarChar(255)
  podcast_language        String?                  @db.VarChar(10)
  academic_publisher      String?                  @db.VarChar(255)
  academic_domain         String?                  @db.VarChar(255)
  social_platform         String?                  @db.VarChar(50)
  social_username         String?                  @db.VarChar(100)
  created_at              DateTime?                @default(now()) @db.Timestamp(0)
  updated_at              DateTime?                @default(now()) @db.Timestamp(0)

  @@index([active], map: "idx_active")
  @@index([check_frequency], map: "idx_check_frequency")
  @@index([created_by], map: "idx_created_by")
  @@index([last_checked], map: "idx_last_checked")
  @@index([relevance_score(sort: Desc)], map: "idx_relevance_score")
  @@index([type], map: "idx_type")
  @@index([url(length: 255)], map: "idx_url")
}

model summary_preferences {
  id                       Int                                 @id @default(autoincrement())
  user_id                  Int                                 @unique(map: "user_id")
  default_length           summary_preferences_default_length? @default(medium)
  include_key_insights     Boolean?                            @default(true)
  include_quotes           Boolean?                            @default(true)
  include_statistics       Boolean?                            @default(true)
  content_type_preferences Json?
  language_preferences     Json?
  created_at               DateTime?                           @default(now()) @db.Timestamp(0)
  updated_at               DateTime?                           @default(now()) @db.Timestamp(0)
}

model topic_preferences {
  id             Int       @id @default(autoincrement())
  user_id        Int
  topic          String    @db.VarChar(255)
  interest_level Decimal?  @default(0.50) @db.Decimal(3, 2)
  keywords       Json?
  created_at     DateTime? @default(now()) @db.Timestamp(0)
  updated_at     DateTime? @default(now()) @db.Timestamp(0)

  @@unique([user_id, topic], map: "unique_user_topic")
  @@index([interest_level(sort: Desc)], map: "idx_interest_level")
  @@index([topic], map: "idx_topic")
}

model user_preferences {
  id          String    @id @db.VarChar(255)
  user_id     String    @db.VarChar(255)
  preferences String?   @db.Text
  created_at  DateTime? @default(now()) @db.Timestamp(0)
  updated_at  DateTime? @default(now()) @db.Timestamp(0)
}

model users {
  id                         Int         @id @default(autoincrement())
  email                      String      @unique(map: "email") @db.VarChar(255)
  password_hash              String      @db.VarChar(255)
  name                       String      @db.VarChar(50)
  role                       users_role? @default(user)
  preferences                Json?
  notifications              Json?
  profile                    Json?
  reset_password_token       String?     @db.VarChar(255)
  reset_password_expire      DateTime?   @db.DateTime(0)
  email_verification_token   String?     @db.VarChar(255)
  email_verified             Boolean?    @default(false)
  last_login                 DateTime?   @default(now()) @db.DateTime(0)
  active                     Boolean?    @default(true)
  account_deletion_scheduled DateTime?   @db.DateTime(0)
  account_deleted            Boolean?    @default(false)
  account_deleted_at         DateTime?   @db.DateTime(0)
  data_retention             Json?
  privacy_settings           Json?
  consents                   Json?
  created_at                 DateTime?   @default(now()) @db.Timestamp(0)
  updated_at                 DateTime?   @default(now()) @db.Timestamp(0)

  @@index([account_deleted], map: "idx_account_deleted")
  @@index([account_deletion_scheduled], map: "idx_account_deletion_scheduled")
  @@index([active], map: "idx_active")
}

enum dividend_processing_logs_status {
  success
  error
  warning
}

enum summary_preferences_default_length {
  short
  medium
  long
}

enum collection_collaborators_role {
  viewer
  editor
  admin
}

enum content_references_reference_type {
  citation
  mention
  related
  follow_up
}

enum credentials_service_type {
  rss
  api
  oauth
  basic_auth
}

enum digest_scheduling_frequency {
  daily
  weekly
  bi_weekly @map("bi-weekly")
  monthly
}

enum interactions_type {
  view
  save
  share
  dismiss
  like
  dislike
  comment
  highlight
  note
}

enum metric_history_status {
  healthy
  warning
  critical
  stale
}

enum sources_type {
  website
  blog
  academic
  podcast
  social
  newsletter
  rss
}

enum users_role {
  user
  admin
  editor
  moderator
}

enum metrics_status {
  healthy
  warning
  critical
  stale
}

enum content_type {
  article
  paper
  podcast
  video
  social
  newsletter
  book
  course
}

enum dividend_entries_status {
  pending
  processed
  error
}

enum sources_check_frequency {
  hourly
  daily
  weekly
  monthly
}

enum interactions_share_method {
  email
  twitter
  facebook
  linkedin
  copy
  other
}

enum content_sentiment {
  positive
  neutral
  negative
  mixed
}

// ============================================
// Networking System Tables (turph-app)
// ============================================

model Person {
  id               String                 @id @default(cuid())
  linkedinUrl      String?                @map("linkedin_url")
  name             String
  title            String?
  companyId        String?                @map("company_id")
  company          Company?               @relation(fields: [companyId], references: [id])
  location         String?
  email            String?
  phone            String?
  tags             Json?                  @db.Json
  notes            String?                @db.Text
  lastContactedAt  DateTime?              @map("last_contacted_at")
  nextFollowupAt   DateTime?              @map("next_followup_at")
  isActive         Boolean                @default(true) @map("is_active")
  createdAt        DateTime               @default(now()) @map("created_at")
  updatedAt        DateTime               @updatedAt @map("updated_at")
  
  eventPeople      EventPerson[]
  interactions     NetworkingInteraction[]

  @@index([companyId])
  @@map("people")
}

model Company {
  id          String    @id @default(cuid())
  name        String    @unique
  website     String?
  linkedinUrl String?   @map("linkedin_url")
  industry    String?
  location    String?
  description String?   @db.Text
  tags        Json?     @db.Json
  isActive    Boolean   @default(true) @map("is_active")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")
  
  people      Person[]

  @@map("companies")
}

model Event {
  id             String        @id @default(cuid())
  name           String
  url            String?
  eventType      EventType     @default(other) @map("event_type")
  organization   String?
  location       String?
  startDate      DateTime      @map("start_date")
  endDate        DateTime?     @map("end_date")
  recurrence     Recurrence    @default(one_time)
  cost           Decimal?      @db.Decimal(10, 2)
  description    String?       @db.Text
  tags           Json?         @db.Json
  tier           EventTier?
  sourceId       String?       @map("source_id")
  source         EventSource?  @relation(fields: [sourceId], references: [id])
  externalId     String?       @map("external_id")
  entryMethod    EntryMethod   @default(manual) @map("entry_method")
  isActive       Boolean       @default(true) @map("is_active")
  attended       Boolean       @default(false)
  attendedDate   DateTime?     @map("attended_date")
  notes          String?       @db.Text
  lastScrapedAt  DateTime?     @map("last_scraped_at")
  createdAt      DateTime      @default(now()) @map("created_at")
  updatedAt      DateTime      @updatedAt @map("updated_at")
  
  eventPeople    EventPerson[]

  @@index([sourceId])
  @@index([startDate])
  @@index([eventType])
  @@map("events")
}

model EventSource {
  id               String            @id @default(cuid())
  name             String
  url              String
  sourceType       SourceType        @map("source_type")
  tier             EventTier
  scrapeFrequency  ScrapeFrequency   @map("scrape_frequency")
  isActive         Boolean           @default(true) @map("is_active")
  lastScrapedAt    DateTime?         @map("last_scraped_at")
  scrapeConfig     Json?             @db.Json @map("scrape_config")
  createdAt        DateTime          @default(now()) @map("created_at")
  updatedAt        DateTime          @updatedAt @map("updated_at")
  
  events           Event[]

  @@map("event_sources")
}

model EventPerson {
  id        String   @id @default(cuid())
  eventId   String   @map("event_id")
  event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)
  personId  String   @map("person_id")
  person    Person   @relation(fields: [personId], references: [id], onDelete: Cascade)
  metAt     DateTime @default(now()) @map("met_at")
  notes     String?  @db.Text
  createdAt DateTime @default(now()) @map("created_at")

  @@unique([eventId, personId])
  @@index([eventId])
  @@index([personId])
  @@map("event_people")
}

model NetworkingInteraction {
  id              String                     @id @default(cuid())
  personId        String                     @map("person_id")
  person          Person                     @relation(fields: [personId], references: [id], onDelete: Cascade)
  interactionType NetworkingInteractionType  @map("interaction_type")
  date            DateTime
  notes           String?                    @db.Text
  createdAt       DateTime                   @default(now()) @map("created_at")

  @@index([personId])
  @@index([date])
  @@map("networking_interactions")
}

// Networking Enums
enum EventType {
  meetup
  conference
  workshop
  networking
  other
}

enum Recurrence {
  one_time
  weekly
  monthly
  quarterly
  yearly
}

enum EventTier {
  tier1
  tier2
  tier3
}

enum EntryMethod {
  manual
  scraped
}

enum SourceType {
  rss
  ical
  api
  web_scrape
}

enum ScrapeFrequency {
  daily
  weekly
  monthly
}

enum NetworkingInteractionType {
  email
  linkedin
  meeting
  call
  event
  other
}
